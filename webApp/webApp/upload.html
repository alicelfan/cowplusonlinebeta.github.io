{% extends "base.html" %}
{% block title %}COW Plus | Upload{% endblock %}
{% block content %}

<html lang = "en">
	<head>
		<title> COW Plus Online </title>
		<meta charset = "utf-8" />
		<meta name="description" content="COW Plus Online data manager is online platform for managing data related to international relations, primarily international conflict. If you are conducting research on war or international security, this platform will help you create a comprehensive and easily manipulable dataset for quantitative analysis.">
		<meta name="keywords" content="COW Plus Online, Professor Poast COW Plus Online, data management software ir, correlates of war, international relations data">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<script src="{{ url_for('static', filename='js/main.js') }}"></script>

		<!-- <link rel="stylesheet" href="SlickGrid-2.4.44/css/smoothness/jquery-ui.css" type="text/css"/> -->
		<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/4.3.1/flatly/bootstrap.min.css" rel="stylesheet">
		<link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
		<style>
			.centered-layout {
				margin: 0 auto;
				max-width: 1200px;
			}
			.header-center {
				text-align: center;
				margin-top: 20px;
			}
		</style>
		<style>
			.drop-area {
				border: 2px dashed #ccc;
				border-radius: 10px;
				padding: 20px;
				text-align: center;
				cursor: pointer;
			}
			.drop-area.dragging {
				background-color: #f0f0f0;
				border-color: #00bfff;
			}
			#metadata-container > div {
				margin-bottom: 10px;
			}
		</style>
		
	</head>
	<body>
		<div id="page-container" class="centered-layout">
			<header>
				<h1 class="header-center">COW Plus Online (Beta)</h1>
				<br>
				<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
					<div class="container-fluid">
						<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarColor04" aria-controls="navbarColor04" aria-expanded="false" aria-label="Toggle navigation">
							<span class="navbar-toggler-icon"></span>
						</button>
				
						<div class="collapse navbar-collapse" id="navbarColor04">
							<ul class="navbar-nav me-auto">
								<li class="nav-item">
									<a class="nav-link" href="index.html">Home</a>
								</li>
								<li class="nav-item">
									<a class="nav-link" href="dataUnlimVar.html">Data</a>
								</li>
								<li class="nav-item">
									<a class="nav-link" href="download.html">Downloads</a>
								</li>
								<li class="nav-item">
									<a class="nav-link active" href="upload.html">Upload</a>
								</li>
								<li class="nav-item">
									<a class="nav-link" href="shared.html">Shared</a>
								</li>
								<li class="nav-item">
									<a class="nav-link" href="guides.html">Guides and FAQ</a>
								</li>
							</ul>
							<div class="d-flex justify-content-end">
								<ul class="navbar-nav">
									<li class="nav-item">
										{% if 'user' in session %}
											<a class="nav-link" href="{{ url_for('logout') }}">Logged in as {{ session['user'] }} (Logout)</a>
										{% else %}
											<a class="nav-link" href="{{ url_for('login') }}">Login</a>
										{% endif %}
									</li>
								</ul>
							</div>
						</div>
					</div>
				</nav>
				
			</header>
			<div id="upload" style="padding-top:20px">
				<form action="/upload" id="uploadForm" method="post" enctype="multipart/form-data">
					<input type="file" id="file_input" name="file" oninput="triggerValidation(this)" accept=".csv" multiple />  <br><br>
					<div>
						<label for="citation">Manual citation (Chicago):</label>
						<br>
						<textarea id="citation" name="citation" rows="4" cols="50" required></textarea>
					</div>
					<br>
					<button id="verifyFile" type="button">Verify</button>
					<button id="uploadButton" type="submit">Upload</button>
					<p id="processing_upload" style="padding:0px; margin: 0px;display:none; font-family:Arial, Helvetica, sans-serif;font-size:13.33333px;">processing...</p>
				</form>
			</div>
			<footer id="footer" class="text-center py-4">
				<p>&copy; <script>document.write( new Date().getFullYear() );</script> COW Plus Online</p>
				<ul class="list-inline">
					<li class="list-inline-item"><a href="index.html">Home</a></li>
					<li class="list-inline-item"><a href="dataUnlimVar.html">Data</a></li>
					<li class="list-inline-item"><a href="download.html">Downloads</a></li>
					<li class="list-inline-item"><a href="upload.html">Upload</a></li>
					<li class="list-inline-item"><a href="shared.html">Shared</a></li>
					<li class="list-inline-item"><a href="guides.html">Guides and FAQ</a></li>
					<li class="list-inline-item"><a href="sources.html">Sources</a></li>
					<li class="list-inline-item"><a href="mailto:paulpoast@uchicago.edu">Contact</a></li>
				</ul>
			</footer>
		</div>
	</body>
</html>